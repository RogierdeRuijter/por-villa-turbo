---
import Layout from "../layouts/Layout.astro";
import { WebComponent } from "web-component";

const query = `
query {
    Drievoor12updates {
        items {
            _id
            title
        }
    }
}
`;



const variables = {}
const response = await fetch(import.meta.env.PREPR_ENDPOINT, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ query, variables }),
    })

const { data, errors } = await response.json()
console.log(data.Drievoor12updates);
console.error(errors);
---

<Layout title="Welcome to Astro.">
  <main>
    <h1>Welcome to</h1>
    <WebComponent client:load />
  </main>
</Layout>
