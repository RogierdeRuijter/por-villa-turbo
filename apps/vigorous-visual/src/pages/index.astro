---
import Layout from "../layouts/Layout.astro";
import { WebComponent } from "web-component";

const query = `
query {
    Drievoor12updates {
        items {
            _id
            title
        }
    }
}
`;

const variables = {}
const response = await fetch(import.meta.env.PREPR_ENDPOINT, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ query, variables }),
    })

const { data } = await response.json()

---

<Layout title="Welcome to Astro.">
  <main>
    <h1>Welcome to</h1>
    <WebComponent client:load />
    <div>3voor12 title: {data.Drievoor12updates.items[4].title}</div>
    <div>3voor12 meer title: {data.Drievoor12updates.items[3].title}</div>
  </main>
</Layout>
